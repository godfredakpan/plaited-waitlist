<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plated â€“ Smarter Event RSVP & Catering Management</title>

  <!-- Meta SEO -->
  <meta name="description" content="Plated helps you manage RSVPs, meals, and guests for events â€“ powered by Orderrave." />
  <meta name="keywords" content="Plated, Orderrave, Digital Menu, Event Management, Event RSVP, Guest Management, Catering App, Event Planning Tool" />
  <meta name="author" content="Orderrave" />
  <link rel="canonical" href="https://plated.orderrave.ng" />

  <!-- CSRF Token -->
  <meta name="csrf-token" content="{{ csrf_token() }}" />

  <!-- Favicon -->
  <link rel="icon" href="image/favicon.ico" type="image/x-icon" />

  <!-- Open Graph / Facebook -->
  <meta property="og:title" content="plated â€“ Smarter Event RSVP & Catering Management" />
  <meta property="og:description" content="Track RSVPs, plan meals, and serve guests better. Built by Orderrave for modern event organizers." />
  <meta property="og:url" content="https://plated.orderrave.ng" />
  <meta property="og:image" content="https://plated.orderrave.ng/image/plated-logo.png" />
  <meta property="og:type" content="website" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="plated â€“ Smarter Event RSVP & Catering Management" />
  <meta name="twitter:description" content="Join the waitlist for plated â€“ a modern tool to manage event RSVPs and catering." />
  <meta name="twitter:image" content="https://plated.orderrave.ng/image/plated-logo.png" />

  <!-- Styles -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  
  <style>
    .toast {
      animation: slideIn 0.4s ease, fadeOut 0.4s ease 3s;
    }

    @keyframes slideIn {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes fadeOut {
      to {
        opacity: 0;
      }
    }
  </style>

  <script>
    function toggleModal() {
      document.getElementById("waitlist-modal").classList.toggle("hidden");
    }

    function showToast(message, type = "success") {
      const toast = document.createElement("div");
      toast.className = `toast fixed bottom-5 right-5 px-4 py-3 rounded-lg shadow-lg text-white text-sm z-50 ${
        type === "success" ? "bg-green-600" : "bg-red-600"
      }`;
      toast.innerText = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 4000);
    }

    async function submitForm(e) {
        e.preventDefault();
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute("content");
        const submitBtn = e.target.querySelector('button[type="submit"]');
        const originalBtnText = submitBtn.innerHTML;

        submitBtn.disabled = true;
        submitBtn.innerHTML = `<svg class="animate-spin h-5 w-5 inline-block mr-2 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path></svg>Loading...`;

        // Email validation
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!name || !email) {
            showToast("Please enter your name and email.", "error");
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalBtnText;
            return;
        }
        if (!emailPattern.test(email)) {
            showToast("Please enter a valid email address.", "error");
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalBtnText;
            return;
        }

        try {
            const response = await fetch("https://api.orderrave.ng/api/plated/waitlist", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    Accept: "application/json",
                    "X-CSRF-TOKEN": csrfToken,
                },
                body: JSON.stringify({ name, email }),
            });

            if (!response.ok) {
                const error = await response.json();
                showToast(error.message || "An error occurred.", "error");
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalBtnText;
                return;
            }

            showToast("You're on the waitlist! ðŸŽ‰");
            document.getElementById("waitlist-form").reset();
            toggleModal();
        } catch (error) {
            showToast("Network error. Please try again.", "error");
            console.error("Waitlist submission failed:", error);
        } finally {
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalBtnText;
        }
    }
  </script>
</head>

<body class="text-gray-800" style="background-color: #fff9f3">
  <!-- Main content -->
  <div class="min-h-screen flex flex-col items-center justify-center px-4 text-center">
    <img src="image/plated-logo.png" alt="plated Logo" class="w-1/2 sm:w-1/3 " />

    <p class="text-lg sm:text-xl max-w-xl mb-6">
      <span style="font-size: xx-large; color: #321725;">event RSVP and catering</span>  <br>powered by
      <strong>
        <a href="https://www.orderrave.ng" target="_blank" rel="noopener noreferrer">orderrave</a>
      </strong>
    </p>

    <ul class="flex flex-col sm:flex-row justify-center gap-3 mb-6">
    <li class="flex items-center gap-2 bg-white/80 border border-gray-200 rounded-xl px-4 py-2 shadow-sm text-gray-700 text-base">
        <span class="text-green-600 text-lg">âœ…</span>
        Seamless guest RSVPs
    </li>
    <li class="flex items-center gap-2 bg-white/80 border border-gray-200 rounded-xl px-4 py-2 shadow-sm text-gray-700 text-base">
        <span class="text-green-600 text-lg">âœ…</span>
        Automated food &amp; drink planning
    </li>
    <li class="flex items-center gap-2 bg-white/80 border border-gray-200 rounded-xl px-4 py-2 shadow-sm text-gray-700 text-base">
        <span class="text-green-600 text-lg">âœ…</span>
        Dashboard for event organizers
    </li>
    </ul>

    <button onclick="toggleModal()" style="background-color: #582641;" class="bg-[#582641] text-white px-6 py-3 rounded-xl font-semibold hover:opacity-90 transition">
      Join the Waitlist
    </button>

    <p class="text-xs text-gray-500 mt-6">Launching Soon ðŸŽ‰</p>
  </div>

  <!-- Modal -->
  <div id="waitlist-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-3">
    <div class="bg-white rounded-2xl shadow-xl w-full max-w-md p-6 text-left">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-light">Be the first to know...</h2>
        <button onclick="toggleModal()" class="text-gray-500 hover:text-red-500 text-xl">&times;</button>
      </div>
      <form id="waitlist-form" onsubmit="submitForm(event)">
        <input type="text" id="name" name="name" placeholder="Your Name" class="w-full p-3 mb-4 border border-gray-300 rounded-xl" required />
        <input type="email" id="email" name="email" placeholder="Your Email" class="w-full p-3 mb-4 border border-gray-300 rounded-xl" required />
        <button type="submit" style="background-color: #582641;" class="w-full bg-[#582641] text-white py-3 rounded-xl hover:opacity-90 transition">
          Submit
        </button>
      </form>
    </div>
  </div>
</body>
</html>
